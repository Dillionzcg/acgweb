<canvas id="sakura-canvas"></canvas>

<style>
    #sakura-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
    }
</style>

<script>
    const canvas = document.getElementById('sakura-canvas');
    const ctx = canvas.getContext('2d');
    let sakuraList = [];

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.onresize = resize;
    resize();

    class Sakura {
        constructor() { this.init(true); }
        init(spawnFull = false) {
            this.x = Math.random() * canvas.width;
            this.y = spawnFull ? Math.random() * canvas.height : -35;
            this.r = Math.random() * 8 + 6;
            this.s = Math.random() * 0.7 + 0.8;
            this.a = Math.random() * Math.PI * 2;
            this.as = Math.random() * 0.03 - 0.015;
            this.w = Math.random() * 1.2 + 0.5;
            this.phase = Math.random() * 20;
            const palette = ['rgba(255, 105, 180, ', 'rgba(255, 182, 193, ', 'rgba(255, 160, 190, ', 'rgba(255, 235, 240, '];
            this.baseColor = palette[Math.floor(Math.random() * palette.length)];
            this.op = Math.random() * 0.4 + 0.5;
        }
        draw() {
            ctx.save();
            ctx.translate(this.x, this.y);
            ctx.rotate(this.a);
            ctx.shadowBlur = 5;
            ctx.shadowColor = 'rgba(255, 182, 193, 0.3)';
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.bezierCurveTo(-this.r, -this.r/1.8, -this.r, this.r, 0, this.r * 1.5);
            ctx.lineTo(0, this.r * 1.2);
            ctx.lineTo(0, this.r * 1.5);
            ctx.bezierCurveTo(this.r, this.r, this.r, -this.r/1.8, 0, 0);
            const grd = ctx.createRadialGradient(0, 0, 0, 0, 0, this.r);
            grd.addColorStop(0, this.baseColor + this.op + ')');
            grd.addColorStop(1, this.baseColor + (this.op * 0.3) + ')');
            ctx.fillStyle = grd;
            ctx.fill();
            ctx.strokeStyle = `rgba(255, 255, 255, 0.7)`;
            ctx.lineWidth = 0.6;
            ctx.stroke();
            ctx.restore();
        }
        update() {
            this.y += this.s;
            this.x += Math.sin(this.y / 50 + this.phase) * this.w;
            this.a += this.as;
            if (this.y > canvas.height + 35) this.init(false);
        }
    }

    for (let i = 0; i < 480; i++) sakuraList.push(new Sakura());
    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        sakuraList.forEach(s => { s.update(); s.draw(); });
        requestAnimationFrame(animate);
    }
    animate();
</script>